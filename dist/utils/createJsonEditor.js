"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");require("core-js/modules/es.array.includes"),require("core-js/modules/es.array.iterator"),Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.createJsonEditor=void 0;var _defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty")),_path=require("path"),_fsExtra=require("fs-extra"),_BasicEditor=_interopRequireDefault(require("./BasicEditor")),_common=require("./common");const{assign}=Object,INDENT_SPACES=4,createJsonEditor=(filename,contents={})=>{var _temp;return _temp=class extends _BasicEditor.default{constructor(cwd=process.cwd()){super(),(0,_defineProperty2.default)(this,"contents",contents);const path=(0,_path.join)(cwd,filename);assign(this,{path})}create(){const self=this,{contents,fs,path,queue}=self;return(0,_fsExtra.existsSync)(path)||queue.add(()=>fs.writeJSON(path,contents,null,INDENT_SPACES)),self}read(){const{fs,path}=this;return fs.readJSON(path)||""}extend(contents){const self=this,{fs,path,queue}=self;return queue.add(()=>fs.extendJSON(path,contents,null,INDENT_SPACES)),self}/**
     * Check if package.json manifest file has dependencies (dependencies or devDependencies)
     * @param  {...string} modules npm module names
     * @return {Boolean} Has at least one dependency (true) or none (false)
     */hasSome(...modules){const{keys}=Object,pkg=this.read(),{dependencies,devDependencies}=(0,_common.parse)(pkg),installed=[...keys(dependencies?dependencies:{}),...keys(devDependencies?devDependencies:{})];return modules.some(module=>installed.includes(module))}/**
     * Check if package.json manifest file has dependencies (dependencies or devDependencies)
     * @param  {...string} modules npm module names
     * @return {Boolean} Has all dependencies (true) or not all (false)
     */hasAll(...modules){const{keys}=Object,pkg=this.read(),{dependencies,devDependencies}=(0,_common.parse)(pkg),installed=[...keys(dependencies?dependencies:{}),...keys(devDependencies?devDependencies:{})];return modules.every(module=>installed.includes(module))}},_temp};exports.createJsonEditor=createJsonEditor;var _default=createJsonEditor;exports.default=_default;