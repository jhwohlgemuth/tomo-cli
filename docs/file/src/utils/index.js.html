<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../../">
  <title data-ice="title">src/utils/index.js | tomo-cli</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  <script src="script/manual.js"></script>
<link rel="stylesheet" href="./inject/css/0-readme.css"><meta name="description" content="A friendly command line tool designed to help create sustainable software using web technology"><meta property="twitter:card" content="summary"><meta property="twitter:title" content="tomo-cli"><meta property="twitter:description" content="A friendly command line tool designed to help create sustainable software using web technology"></head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  <a href="test.html" data-ice="testLink">Test</a>
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
<a style="position:relative; top:3px;" href="https://github.com/jhwohlgemuth/tomo-cli"><img width="20px" src="./image/github.png"></a></header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/main.js~UI.html">UI</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#commands">commands</a><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-addA11y">addA11y</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-removeA11y">removeA11y</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-addBrowsersync">addBrowsersync</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-removeBrowsersync">removeBrowsersync</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-addEsdoc">addEsdoc</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-addMakefile">addMakefile</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-addParcel">addParcel</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-removeParcel">removeParcel</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-addPostcss">addPostcss</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-removePostcss">removePostcss</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-addRollup">addRollup</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-removeRollup">removeRollup</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-rustTasks">rustTasks</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-addWebpack">addWebpack</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-removeWebpack">removeWebpack</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-typedef">T</span><span data-ice="name"><span><a href="typedef/index.html#static-typedef-task">task</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#commands-add-cypress">commands/add-cypress</a><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-addCypress">addCypress</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-removeCypress">removeCypress</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#commands-add-electron">commands/add-electron</a><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-tasks">tasks</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#commands-add-eslint">commands/add-eslint</a><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-tasks">tasks</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#commands-add-jest">commands/add-jest</a><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-addJest">addJest</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#commands-add-marionette">commands/add-marionette</a><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-tasks">tasks</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#commands-add-marionette-templates">commands/add-marionette/templates</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-footer">footer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-header">header</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#commands-add-react">commands/add-react</a><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-addReact">addReact</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#commands-add-react-templates">commands/add-react/templates</a><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-Body">Body</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-Footer">Footer</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-Header">Header</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#commands-add-reason">commands/add-reason</a><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-addReason">addReason</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-removeReason">removeReason</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#commands-create-server">commands/create-server</a><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-tasks">tasks</a></span></span></li>
<li data-ice="doc"><a data-ice="dirPath" class="nav-dir-path" href="identifiers.html#utils">utils</a><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/utils/BasicEditor.js~BasicEditor.html">BasicEditor</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/src/utils/Scaffolder.js~Scaffolder.html">Scaffolder</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-createJsonEditor">createJsonEditor</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-createFunctionModuleEditor">createFunctionModuleEditor</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-createModuleEditor">createModuleEditor</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-choose">choose</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getElapsedTime">getElapsedTime</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getIntendedInput">getIntendedInput</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-getVersions">getVersions</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-install">install</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-isUniqueTask">isUniqueTask</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-isValidTask">isValidTask</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-populateQueue">populateQueue</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-showVersion">showVersion</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-uninstall">uninstall</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-withOptions">withOptions</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-BabelConfigModuleEditor">BabelConfigModuleEditor</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-BsConfigJsonEditor">BsConfigJsonEditor</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-EslintConfigModuleEditor">EslintConfigModuleEditor</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-PackageJsonEditor">PackageJsonEditor</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-PostcssConfigEditor">PostcssConfigEditor</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-PurgecssConfigEditor">PurgecssConfigEditor</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-RollupConfigEditor">RollupConfigEditor</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-WebpackConfigEditor">WebpackConfigEditor</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><h1 data-ice="title">src/utils/index.js</h1>
<pre class="source-code line-number raw-source-code"><code class="prettyprint linenums" data-ice="content">import execa from &apos;execa&apos;;
import Queue from &apos;p-queue&apos;;
import semver from &apos;semver&apos;;
import {complement, has, head} from &apos;ramda&apos;;
import isOnline from &apos;is-online&apos;;
import {oneLineTrim} from &apos;common-tags&apos;;
import validate from &apos;validate-npm-package-name&apos;;
import {findBestMatch} from &apos;string-similarity&apos;;
import {dict} from &apos;./common&apos;;
import createJsonEditor from &apos;./createJsonEditor&apos;;
import {createFunctionModuleEditor, createModuleEditor} from &apos;./createModuleEditor&apos;;

const {assign, keys} = Object;
const {isArray} = Array;

// export {createFunctionModuleEditor, createJsonEditor, createModuleEditor};
// export *  from &apos;./common&apos;;
// export {MakefileEditor} from &apos;./MakefileEditor&apos;;
// export {Scaffolder} from &apos;./Scaffolder&apos;;

export const isUniqueTask = ({text}, index, tasks) =&gt; tasks.map(({text}) =&gt; text).indexOf(text) === index;
export const isValidTask = val =&gt; has(&apos;text&apos;, val) &amp;&amp; has(&apos;task&apos;, val) &amp;&amp; (typeof val.text === &apos;string&apos;) &amp;&amp; (typeof val.task === &apos;function&apos;);
export const withOptions = val =&gt; options =&gt; ({...options, ...val});
/**
 * Choose tasks based on CLI options
 * @param {Object} choices Object to create choice dictionary from
 * @return {function} Accepts CLI options and returns array of tasks
 */
export const choose = choices =&gt; options =&gt; {
    const possible = keys(choices);
    const passed = keys(options);
    const lookup = dict(choices);
    const DEFAULT = lookup.has(&apos;default&apos;) ? lookup.get(&apos;default&apos;) : lookup.get(possible[0]);
    const [choice] = possible.filter(val =&gt; passed.includes(val)).filter(val =&gt; options[val]);
    return choice ? lookup.get(choice) : DEFAULT;
};
/**
 * Get duration since start in &quot;HH:MM:SS&quot; format
 * @param {object} start Time to determine duration from
 * @param {number[]} [initial=[0,0,0]] Duration to add to returned elapsed time
 * @example &lt;caption&gt;Start from 30 seconds&lt;/caption&gt;
 * const [start] = process.hrtime()
 * const duration = getElapsedTime(start, [0, 0, 30]);
 * @return {string} Elapsed duration in format, &quot;HH:MM:SS&quot;
 */
export const getElapsedTime = (start, initial = [0, 0, 0]) =&gt; {
    const SECONDS_PER_MINUTE = 60;
    const MINUTES_PER_HOUR = SECONDS_PER_MINUTE;
    const after = (initial[0] * MINUTES_PER_HOUR * SECONDS_PER_MINUTE) + (initial[1] * SECONDS_PER_MINUTE) + initial[2];
    const total = process.hrtime()[0] + after - start;
    const seconds = total % SECONDS_PER_MINUTE;
    const minutes = Math.floor((total / SECONDS_PER_MINUTE) % MINUTES_PER_HOUR);
    const hours = Math.floor(total / MINUTES_PER_HOUR / SECONDS_PER_MINUTE);
    const format = val =&gt; val.toString().padStart(2, &apos;0&apos;);
    return `${format(hours)}:${format(minutes)}:${format(seconds)}`;
};
/**
 * Use string-similarity module to determine closest matching string
 * @param {Object} commands Object with commands as key values, terms as key values for each command object
 * @param {string} command Command string input
 * @param {string[]} [terms=[]] Terms input
 * @example
 * const [intendedCommand, intendedTerms] = getIntendedInput(commands, command, terms);
 * @return {string[]} [intendedCommand, intendedTerms] Array destructed assignment is recommended (see example)
 */
export const getIntendedInput = (commands, command, terms = []) =&gt; {
    const VALID_COMMANDS = keys(commands);
    const {bestMatch: {target: intendedCommand}} = findBestMatch(command, VALID_COMMANDS);
    const VALID_TERMS = keys(commands[intendedCommand]);
    const intendedTerms = terms.map(term =&gt; findBestMatch(term, VALID_TERMS).bestMatch.target);
    return {intendedCommand, intendedTerms};
};
/**
 * Use npm CLI to return array of module versions
 * @param {string} name npm module name
 * @example
 * const versions = getVersions(&apos;react&apos;);
 * @return {string[]} Array of versions
 */
export const getVersions = async (name = &apos;&apos;) =&gt; (name.length === 0) ? [] : (await execa(&apos;npm&apos;, [&apos;view&apos;, name, &apos;versions&apos;]))
    .stdout
    .split(&apos;,\n&apos;)
    .map(str =&gt; str.match(/\d+[.]\d+[.]\d+/))
    .filter(isArray)
    .map(head)
    .map(semver.valid)
    .filter(Boolean);
/**
 * Show version listed in package.json and exit
 * @return {string} Version
 */
export const showVersion = () =&gt; {
    const cwd = join(__dirname, &apos;..&apos;);
    const {version} = read.sync({cwd});
    console.log(version); // eslint-disable-line no-console
    process.exit();
};
/**
 * Install dependencies with npm
 * @param {string[]} [dependencies=[]] Modules to install
 * @param {Object} options Options to configure installation
 * @param {boolean} [options.dev=false] If true, add &quot;--save-dev&quot;
 * @param {boolean} [options.latest=true] If true, add &quot;@latest&quot; to all module names
 * @param {boolean} [options.skipInstall=false] Do not install (mostly for testing)
 * @example &lt;caption&gt;Install production dependencies&lt;/caption&gt;
 * install([&apos;react&apos;]);
 * @example &lt;caption&gt;Install development dependencies&lt;/caption&gt;
 * install([&apos;jest&apos;, &apos;babel-jest&apos;], {dev: true});
 * @return {string[]} Array of inputs (mostly for testing)
 */
export const install = async (dependencies = [], options = {dev: false, latest: true, skipInstall: false}) =&gt; {
    const {dev, latest, skipInstall} = options;
    const identity = i =&gt; i;
    const concat = val =&gt; str =&gt; str + val;
    const args = [&apos;install&apos;]
        .concat(dependencies
            .filter(name =&gt; validate(name).validForNewPackages)
            .map(latest ? concat(&apos;@latest&apos;) : identity)
        )
        .concat(dev ? &apos;--save-dev&apos; : []);
    skipInstall || await execa(&apos;npm&apos;, args);
    return args;
};
export const uninstall = async (dependencies = []) =&gt; {
    const args = [&apos;uninstall&apos;].concat(dependencies.filter(name =&gt; validate(name).validForNewPackages));
    (args.length === 1) || await execa(&apos;npm&apos;, args);
    return args;
};
/**
 * Add async tasks to a queue, handle completion with actions dispatched via dispatch function
 * @param {Object} data Data to be used for populating queue
 * @param {Queue} [data.queue={}] p-queue instance
 * @param {Object[]} [data.tasks=[]] Array of task objects
 * @param {function} [data.dispatch=()=&gt;{}] Function to dispatch task completion (complete, skip, error) actions
 * @param {Object} [data.options={}] Options object to pass to task function
 * @return {undefined} Returns nothing (side effects only)
 */
export async function populateQueue({concurrency = 1, tasks = [], dispatch = () =&gt; {}, options = {skipInstall: false}} = {}) {
    const {skipInstall} = options;
    const isNotOffline = skipInstall || await isOnline();
    const customOptions = assign({}, tasks.filter(complement(isValidTask)).reduce((acc, val) =&gt; assign(acc, val), options), {isNotOffline});
    const queue = new Queue({concurrency});
    dispatch({type: &apos;status&apos;, payload: {online: isNotOffline}});
    for (const [index, item] of tasks.filter(isValidTask).filter(isUniqueTask).entries()) {
        const {condition, task} = item;
        try {
            if (await condition(customOptions)) {
                await queue
                    .add(() =&gt; task(customOptions))
                    .then(() =&gt; dispatch({type: &apos;complete&apos;, payload: index}))
                    .catch(() =&gt; dispatch({
                        type: &apos;error&apos;, payload: {
                            index,
                            title: &apos;Failed to add task to queue&apos;,
                            location: &apos;task&apos;,
                            details: item.text
                        }
                    }));
            } else {
                dispatch({type: &apos;skipped&apos;, payload: index});
            }
        } catch (error) {
            dispatch({
                type: &apos;error&apos;,
                payload: {
                    error,
                    index,
                    title: &apos;Failed to test task conditions&apos;,
                    location: &apos;condition&apos;,
                    details: item.text
                }
            });
        }
    }
}
/**
 * Create and edit a Babel.js configuration file with a fluent API
 * @type {ModuleEditor}
 * @example &lt;caption&gt;Extend module.exports content and prepend text to the top of the file&lt;/caption&gt;
 * await (new BabelConfigModuleEditor())
 *     .create()
 *     .extend({presets: [`&apos;@babel/preset-env&apos;`]})
 *     .prepend(`const {existsSync} = require(&apos;fs-extra&apos;);`)
 *     .commit();
 */
export const BabelConfigModuleEditor = createModuleEditor(&apos;babel.config.js&apos;, {
    plugins: [
        `&apos;@babel/plugin-transform-runtime&apos;`,
        `&apos;@babel/plugin-proposal-class-properties&apos;`,
        `&apos;@babel/plugin-proposal-export-default-from&apos;`,
        `&apos;@babel/plugin-proposal-optional-chaining&apos;`
    ],
    presets: [`&apos;@babel/preset-env&apos;`, `&apos;babel-preset-minify&apos;`]
});
/**
 * Create and edit an ESLint configuration file with a fluent API
 * @type {ModuleEditor}
 * @example
 * await (new EslintConfigModuleEditor())
 *     .create()
 *     .commit();
 */
export const EslintConfigModuleEditor = createModuleEditor(&apos;.eslintrc.js&apos;, {
    env: {
        es6: true,
        jest: true
    },
    extends: [
        `&apos;omaha-prime-grade&apos;`
    ],
    parser: `&apos;babel-eslint&apos;`
});
/**
 * Create and edit a package.json manifest file with a fluent API
 * @type {JsonEditor}
 * @example &lt;caption&gt;Create a new package.json&lt;/caption&gt;
 * await (new PackageJsonEditor())
 *     .create()
 *     .commit();
 * @example &lt;caption&gt;Create a new package.json and read its contents (chaining OK)&lt;/caption&gt;
 * const contents = (new PackageJsonEditor())
 *     .create()
 *     .read();
 * @example &lt;caption&gt;Extend a package.json&lt;/caption&gt;
 * const script = {test: &apos;jest --coverage&apos;};
 * await (new PackageJsonEditor())
 *     .extend({script})
 *     .commit();
 * @example &lt;caption&gt;Create and extend a package.json without writing to disk (chaining OK)&lt;/caption&gt;
 * const script = {
 *     lint: &apos;eslint index.js -c ./.eslintrc.js&apos;
 * };
 * await (new PackageJsonEditor())
 *     .create(false)
 *     .extend({script}, false)
 *     .commit();
 */
export const PackageJsonEditor = createJsonEditor(&apos;package.json&apos;, {
    name: &apos;my-project&apos;,
    version: &apos;0.0.0&apos;,
    description: &apos;A super cool app/server/tool/library/widget/thingy&apos;,
    license: &apos;MIT&apos;,
    keywords: []
});
export const BsConfigJsonEditor = createJsonEditor(&apos;bsconfig.json&apos;, {
    &apos;bs-dependencies&apos;: [&apos;reason-react&apos;],
    &apos;bsc-flags&apos;: [&apos;-bs-super-errors&apos;],
    namespace: true,
    &apos;package-specs&apos;: [{
        module: &apos;es6&apos;,
        &apos;in-source&apos;: true
    }],
    &apos;ppx-flags&apos;: [],
    reason: {&apos;react-jsx&apos;: 3},
    refmt: 3,
    sources: [{
        dir: &apos;src&apos;,
        subdirs: true
    }],
    suffix: &apos;.bs.js&apos;
});
/**
 * Create and edit a PostCSS configuration file with a fluent API
 * @type {ModuleEditor}
 * @example
 * await (new PostcssConfigEditor())
 *     .create()
 *     .commit();
 */
export const PostcssConfigEditor = createModuleEditor(&apos;postcss.config.js&apos;, {
    map: true,
    parser: `require(&apos;postcss-safe-parser&apos;)`
});
/**
 * Create and edit a PurgeCSS configuration file with a fluent API
 * @type {ModuleEditor}
 * @example
 * await (new PurgecssConfigEditor())
 *     .create()
 *     .commit();
 */
export const PurgecssConfigEditor = createModuleEditor(&apos;purgecss.config.js&apos;, {
    content: [`&apos;./assets/index.html&apos;`]
});
/**
 * Create and edit a Rollup configuration file with a fluent API
 * @type {ModuleEditor}
 * @example
 * await (new RollupConfigEditor())
 *     .create()
 *     .commit();
 */
export const RollupConfigEditor = createModuleEditor(&apos;rollup.config.js&apos;, {
    input: `&apos;./src/main.js&apos;`,
    output: {
        file: `&apos;./dist/bundle.min.js&apos;`,
        format: `&apos;iife&apos;`,
        sourceMap: `&apos;inline&apos;`
    },
    plugins: [
        `babel({exclude: &apos;node_modules/**&apos;, runtimeHelpers: true})`,
        oneLineTrim`commonjs({
            namedExports: {
                &apos;./node_modules/backbone/backbone.js&apos;: [&apos;Model&apos;, &apos;history&apos;],
                &apos;./node_modules/backbone.marionette/lib/backbone.marionette.js&apos;: [&apos;Application&apos;, &apos;View&apos;, &apos;MnObject&apos;]
            }
        })`,
        `resolve({browser: true})`,
        `replace({&apos;process.env.NODE_ENV&apos;: JSON.stringify(&apos;production&apos;)})`,
        `terser()`
    ]
}, {esm: true});
/**
 * Create and edit a Webpack configuration file with a fluent API
 * @type {ModuleEditor}
 * @example
 * await (new WebpackConfigEditor())
 *     .create()
 *     .commit();
 */
export const WebpackConfigEditor = createFunctionModuleEditor(&apos;webpack.config.js&apos;, {
    mode: `argv.mode === &apos;production&apos; ? &apos;production&apos; : &apos;development&apos;`,
    entry: {
        app: `&apos;./src/main.js&apos;`
    },
    devtool: `(argv.mode === &apos;production&apos;) ? void 0 : &apos;eval-source-map&apos;`,
    output: {
        path: `resolve(&apos;./dist&apos;)`,
        filename: `&apos;bundle.min.js&apos;`
    }
}, {params: [&apos;env&apos;, &apos;argv&apos;]});</code></pre>

</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(1.1.0)</span><img src="./image/esdoc-logo-mini-black.png"></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
